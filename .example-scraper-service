[Unit]
Description=Overwatch API Background Scraper
ConditionPathExists=/opt/api/overwatch
After=network.target redis.service owapi.service
Wants=redis.service
Requires=redis.service

[Service]
Type=simple
User=voice
Group=voice
WorkingDirectory=/opt/api/overwatch

EnvironmentFile=/opt/api/overwatch/.env
ExecStart=/opt/api/overwatch/scraper

Restart=on-failure
RestartSec=10

StandardOutput=journal
StandardError=journal
SyslogIdentifier=owapi-scraper

[Install]
WantedBy=multi-user.target